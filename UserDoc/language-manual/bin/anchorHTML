#!/bin/sh
PATH=/bin:/usr/bin:/usr/local/bin
self=`basename $0`

case $# in
     1) : ok;;
     *) for F
        do "$0" "$F"
	done
	exit 0;;
esac

F="$1"

if [ ! -r "$F" ]
then exec echo "$self: cannot open $F" 2>&1
fi

if [ ! -w "$F" ]
then exec echo "$self: cannot write to $F" 2>&1
fi

echo anchoring "$F"

B=`basename $F`

ed - "$F" <<!r0tAn1mReT
g|^> ::=|?</FONT?t-
g|^> ::=|-s|^|:)|
g|^:).*ffle|d
g|^:)|s|>\(.*\)</FONT|><A NAME="METASLANG-\1"|
g|^:)|+s|::=|&</A>|
g|^:)|s|[a-z]|C@p-&|g
g|^:)|s|||
g|C@p-a|s||A|g
g|C@p-b|s||B|g
g|C@p-c|s||C|g
g|C@p-d|s||D|g
g|C@p-e|s||E|g
g|C@p-f|s||F|g
g|C@p-g|s||G|g
g|C@p-h|s||H|g
g|C@p-i|s||I|g
g|C@p-j|s||J|g
g|C@p-k|s||K|g
g|C@p-l|s||L|g
g|C@p-m|s||M|g
g|C@p-n|s||N|g
g|C@p-o|s||O|g
g|C@p-p|s||P|g
g|C@p-q|s||Q|g
g|C@p-r|s||R|g
g|C@p-s|s||S|g
g|C@p-t|s||T|g
g|C@p-u|s||U|g
g|C@p-v|s||V|g
g|C@p-w|s||W|g
g|C@p-x|s||X|g
g|C@p-y|s||Y|g
g|C@p-z|s||Z|g
w
q
!r0tAn1mReT
